document.addEventListener('DOMContentLoaded', () => {
    const searchInput = document.getElementById('searchInput');
    const filterOptions = document.querySelectorAll('.filter-option');
    const cards = document.querySelectorAll('.card');

    // Main Filter Function
    function filterItems() {
        const searchTerm = searchInput.value.toLowerCase();
        const activeCategory = document.querySelector('.filter-option.active').dataset.cat;

        cards.forEach(card => {
            const title = card.querySelector('h3').innerText.toLowerCase();
            const cardCategory = card.dataset.category;

            const matchesSearch = title.includes(searchTerm);
            const matchesCategory = (activeCategory === 'all' || cardCategory === activeCategory);

            if (matchesSearch && matchesCategory) {
                card.style.display = "block";
            } else {
                card.style.display = "none";
            }
        });
    }

    // Listen for typing in search bar
    searchInput.addEventListener('input', filterItems);

    // Listen for category clicks
    filterOptions.forEach(option => {
        option.addEventListener('click', () => {
            // Change UI selection
            filterOptions.forEach(opt => opt.classList.remove('active'));
            option.classList.add('active');
            
            // Run filter
            filterItems();
        });
    });
});
