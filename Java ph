document.addEventListener('DOMContentLoaded', () => {
    const buttons = document.querySelectorAll('.buy-btn');

    buttons.forEach(button => {
        button.addEventListener('click', () => {
            const product = button.getAttribute('data-product');
            
            // For now, we simulate a checkout
            handleCheckout(product);
        });
    });
});

async function handleCheckout(productId) {
    console.log("Starting checkout for:", productId);
    
    // In a real app, you would fetch the payment URL from your server here
    alert("Redirecting to secure payment for: " + productId.replace('_', ' '));
    
    /* Example of real Backend connection:
    const res = await fetch('/api/create-session', {
        method: 'POST',
        body: JSON.stringify({ id: productId })
    });
    const data = await res.json();
    window.location.href = data.url;
    */
}
document.addEventListener('DOMContentLoaded', () => {
    const searchInput = document.getElementById('searchInput');
    const filterOptions = document.querySelectorAll('.filter-option');
    const cards = document.querySelectorAll('.card');

    // Search Logic
    searchInput.addEventListener('input', filterProducts);

    // Category Logic
    filterOptions.forEach(option => {
        option.addEventListener('click', () => {
            filterOptions.forEach(opt => opt.classList.remove('active'));
            option.classList.add('active');
            filterProducts();
        });
    });

    function filterProducts() {
        const searchTerm = searchInput.value.toLowerCase();
        const activeCategory = document.querySelector('.filter-option.active').dataset.category;

        cards.forEach(card => {
            const title = card.querySelector('h3').innerText.toLowerCase();
            const category = card.dataset.category; // Add data-category="game" to your HTML cards

            const matchesSearch = title.includes(searchTerm);
            const matchesCategory = activeCategory === 'all' || category === activeCategory;

            if (matchesSearch && matchesCategory) {
                card.style.display = "block";
            } else {
                card.style.display = "none";
            }
        });
    }
});
const filters = document.querySelectorAll('.filter-option');

filters.forEach(option => {
    option.addEventListener('click', () => {
        // Remove 'active' from all options
        filters.forEach(opt => opt.classList.remove('active'));
        // Add 'active' to the clicked one
        option.classList.add('active');
    });
});
